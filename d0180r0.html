<html>

<head>
  <meta name="description" content="Proposal for C++ Standard">
  <meta name="keywords" content="C++,cplusplus,wg21">
  <meta name="author" content="Alisdair Meredith">

  <title>Reserve Namespace iso for Future Standardization</title>

  <style type="text/css">
    ins {background-color:#A0FFA0}
    del {background-color:#FFA0A0}
    p {text-align:justify}
    li {text-align:justify}
    blockquote.note
    {
      background-color:#E0E0E0;
      padding-left: 15px;
      padding-right: 15px;
      padding-top: 1px;
      padding-bottom: 1px;
    }
  </style>
</head>

<body>
<table>
<tr>
  <td align="left">Doc. no.</td>
  <td align="left">D0180R0</td>
</tr>
<tr>
  <td align="left">Date:</td>
  <td align="left">2016-12-06</td>
</tr>
<tr>
  <td align="left">Project:</td>
  <td align="left">Programming Language C++</td>
</tr>
<tr>
  <td align="left">Reply to:</td>
  <td align="left">Alisdair Meredith &lt;<a href="mailto:ameredith1@bloomberg.net">ameredith1@bloomberg.net</a>&gt;</td>
</tr>
</table>

<h1>Reserve Namespace iso for Future Standardization</h1>

<h2>Table of Contents</h2>
<ol>
<li><a href="#0.0">Revision History</a></li>
  <ul>
  <li><a href="#0.1">Revision 0</a></li>
  </ul>
<li><a href="#1.0">Introduction</a></li>
<li><a href="#2.0">Stating the problem</a></li>
  <ul>
  <li><a href="#2.1">Consistency of propagation traits</a></li>
  </ul>
<li><a href="#3.0">Propose Solution</a></li>
<li><a href="#4.0">Other Directions</a></li>
<li><a href="#5.0">Formal Wording</a></li>
<li><a href="#6.0">Acknowledgements</a></li>
<li><a href="#7.0">References</a></li>
</ol>


<h2><a name="0.0">Revision History</a></h2>

<h3><a name="0.1">Revision 0</a></h3>
<p>
Original version of the paper for the 2016 pre-Jacksonville mailing.
</p>

<h6>Sketch of ideas to be turned into paper</h6>
<p>
This is a quick checklist of ideas that need to be incorporated.
</p>
<ul>
  <li>Write introduction</li>
  <li>Describe Problem</li>
  <li>Propose Solution</li>
  <li>Describe any alternatives</li>
  <li><del>Write Wording</del></li>
</ul>


<h2><a name="1.0">Introduction</a></h2>
<p>
Over the last few meetings, there have been informal suggestions
that we should consider larger-scale changes for a revised standard
library at some point in the future, and that time is closing.  This
paper suggests that we should reserve a namespace for that potential
library now, so give the best chance that name will be free for use
in standardization when needed.
</p>


<h2><a name="2.0">Stating the problem</a></h2>
<p>
Describe in detail the problem to be solved.
</p>


<h3><a name="3.0">Proposed Solution</a></h3>
<p>
This paper proposes reserving the namespace <tt>iso</tt> for future
standardization, while not yet putting anything in there.  This is
similar to reserving namespace <tt>posix</tt> for C++11,
<a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2008/n2667">N2667</a>.
</p>
<p>
The namespace should be reserved now so that any existing code
currently using that namespace has notice and time to migrate,
before there is a real problem interfering with the standard.
Likewise, authors of new code are on notice that this namespace
is reserved.  The longer we wait to reserve such a namespace,
the fewer reasonable names will be available.
</p>
<p>
The name <tt>iso</tt> is proposed as it is short, meaningful in
the constext of the C++ standard, and a non-exhaustive code
search with available tools, such as krugle, 
</p>


<h3><a name="4.0">Other Directions</a></h3>
<p>
Document any variations in design that were considered and rejected,
along with a rationale for the rejection.
</p>


<h3><a name="5.0">Formal Wording</a></h3>
<p>
Insert the following new subsection into clause 17:
</p>

<blockquote>

<h4>17.6.4.2.3 Namespace iso [namespace.iso]</h4>
<p>
<ol>
<li>
The behavior of a C++ program is undefined if it adds declarations or
definitions to namespace <tt>iso</tt> or to a namespace within namespace
<tt>iso</tt> unless otherwise specified.
</li>
<li>
[<i>Note:</i> The namespace <tt>iso</tt> is reserved for use by future
revisions of this standard. <i>- end note</i>]
</li>
</ol>
</blockquote>

<p>
Insert the following rationale into the compatibility Annex C:
</p>

<blockquote>

<h4>C.4.x Removed Deprecated Feature [diff.cpp14.library]</h4>
<p>17.6.4.2.3</p>
<p><b>Change:</b> New reserved namespace</p>
<p><b>Rationale:</b> Reserve namespace for a revised standard libary.</p>
<p>
<b>Effect on original feature:</b> The global namespace <tt>iso</tt> is now
reserved for standardization. Valid C++ 2014 code that uses a top-level
namespace <tt>iso</tt> may be invalid in this International Standard.
</p>
</blockquote>


<h2><a name="6.0">Acknowledements</h2>
<p>
Thanks to contributors and reviewers of this paper.
</p>


<h2><a name="7.0">References</h2>
<ul>
  <li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2008/n2667">N2667</a> Reserved Namespace for POSIX, Benjamin Kosnik, Nick Stoughton</li>
  <li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4532">N4532</a> Proposed wording for default comparisons, Jens Maurer</li>
  <li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4553">N4553</a> Working Draft for Concepts TS</li>
  <li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4560">N4560</a> Working Draft for Ranges TS</li>
  <li><a href="https://isocpp.org/files/papers/p0143r0.pdf">P0143R0</a> Wording for Modules, Gabriel Dos Reis</li>
  <li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3421">N3421</a>Making Operator Functors greater&lt;&gt;, Stephan T. Lavavej</li>
  <li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3451">N3451</a> async and ~future, Herb Sutter</li>
</ul>


</body>
</html>
